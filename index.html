<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>부부 가계부</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
    }
    h1 {
      text-align: center;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 16px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: center;
    }
    th {
      background: #f5f5f5;
    }
    tfoot td {
      font-weight: bold;
    }
    input {
      width: 100%;
      box-sizing: border-box;
      padding: 4px;
    }
    .right {
      text-align: right;
    }
  </style>
</head>
<body>
  <h1>부부 공유 가계부 (기본 버전)</h1>
  <p>날짜, 항목, 금액, 메모를 입력하면 아래에서 합계를 자동 계산합니다.</p>

  <table id="ledger">
    <thead>
      <tr>
        <th>날짜</th>
        <th>분류</th>
        <th>항목</th>
        <th>금액(원)</th>
        <th>메모</th>
      </tr>
    </thead>
    <tbody>
      <!-- 기본 입력 행 5개 -->
      <tr>
        <td><input type="date" /></td>
        <td><input type="text" placeholder="식비 / 교통 / 고정비 등" /></td>
        <td><input type="text" placeholder="세부 항목" /></td>
        <td><input type="number" class="amount" min="0" /></td>
        <td><input type="text" placeholder="비고" /></td>
      </tr>
      <tr>
        <td><input type="date" /></td>
        <td><input type="text" /></td>
        <td><input type="text" /></td>
        <td><input type="number" class="amount" min="0" /></td>
        <td><input type="text" /></td>
      </tr>
      <tr>
        <td><input type="date" /></td>
        <td><input type="text" /></td>
        <td><input type="text" /></td>
        <td><input type="number" class="amount" min="0" /></td>
        <td><input type="text" /></td>
      </tr>
      <tr>
        <td><input type="date" /></td>
        <td><input type="text" /></td>
        <td><input type="text" /></td>
        <td><input type="number" class="amount" min="0" /></td>
        <td><input type="text" /></td>
      </tr>
      <tr>
        <td><input type="date" /></td>
        <td><input type="text" /></td>
        <td><input type="text" /></td>
        <td><input type="number" class="amount" min="0" /></td>
        <td><input type="text" /></td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td colspan="3" class="right">합계</td>
        <td id="total">0</td>
        <td>원</td>
      </tr>
    </tfoot>
  </table>

  <script>
    function updateTotal() {
      const amounts = document.querySelectorAll(".amount");
      let sum = 0;
      amounts.forEach((input) => {
        const value = Number(input.value || 0);
        if (!isNaN(value)) {
          sum += value;
        }
      });
      document.getElementById("total").textContent = sum.toLocaleString("ko-KR");
    }

    document.addEventListener("input", (event) => {
      if (event.target.classList.contains("amount")) {
        updateTotal();
      }
    });

    updateTotal();
  </script>
</body>
</html>
